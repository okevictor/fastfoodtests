{"ast":null,"code":"import { FilterCarryBoxItemsPipe } from '../../../Pipes/CustomerPipes/filter-carryBoxItems/filter-carry-box-items.pipe';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../Services/customer-service/customer-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../customer.component\";\nimport * as i4 from \"../../../Models/LoggingService\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../../Pipes/CustomerPipes/filter-carryBoxItems/filter-carry-box-items.pipe\";\n\nfunction CarryBoxComponent_table_8_ng_container_15_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 22);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"div\", 23)(9, \"div\", 24);\n    i0.ɵɵlistener(\"click\", function CarryBoxComponent_table_8_ng_container_15_tr_1_Template_div_click_9_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const obj_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.decreaseQuantity(obj_r4.itemId));\n    });\n    i0.ɵɵtext(10, \"-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 25);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"filterCarryBoxItems\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 24);\n    i0.ɵɵlistener(\"click\", function CarryBoxComponent_table_8_ng_container_15_tr_1_Template_div_click_14_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const obj_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.increaseQuantity(obj_r4.itemId));\n    });\n    i0.ɵɵtext(15, \"+\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const obj_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"assets/Images/\", obj_r4.picture, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obj_r4.itemName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", obj_r4.itemPrice, \"/-\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(13, 4, ctx_r5.carryBox.itemlist, obj_r4.itemId));\n  }\n}\n\nfunction CarryBoxComponent_table_8_ng_container_15_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 26)(1, \"td\", 27);\n    i0.ɵɵelement(2, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 28);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 29);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function CarryBoxComponent_table_8_ng_container_15_tr_2_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const obj_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.removeCarryBoxItem(obj_r4.itemId));\n    });\n    i0.ɵɵtext(9, \"Remove\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementStart(11, \"h6\", 31);\n    i0.ɵɵtext(12, \"Currently Unavailable!\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const obj_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"assets/Images/\", obj_r4.picture, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obj_r4.itemName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", obj_r4.itemPrice, \"/-\");\n  }\n}\n\nfunction CarryBoxComponent_table_8_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CarryBoxComponent_table_8_ng_container_15_tr_1_Template, 16, 7, \"tr\", 18);\n    i0.ɵɵtemplate(2, CarryBoxComponent_table_8_ng_container_15_tr_2_Template, 13, 3, \"tr\", 19);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const obj_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", obj_r4.active);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !obj_r4.active);\n  }\n}\n\nfunction CarryBoxComponent_table_8_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 32);\n    i0.ɵɵelement(1, \"td\", 15);\n    i0.ɵɵelementStart(2, \"td\", 33);\n    i0.ɵɵtext(3, \"Total = \");\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Rs. \", ctx_r2.carryBox.total_cost, \"/-\");\n  }\n}\n\nfunction CarryBoxComponent_table_8_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 34)(2, \"h5\");\n    i0.ɵɵtext(3, \"No Items in your Carry Box !!\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction CarryBoxComponent_table_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"table\", 9)(1, \"tr\")(2, \"td\", 10)(3, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CarryBoxComponent_table_8_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.clearTheCarryBox());\n    });\n    i0.ɵɵtext(4, \"Clear\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"td\", 12)(6, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function CarryBoxComponent_table_8_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.placeOrder());\n    });\n    i0.ɵɵtext(7, \"Check Out\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"tr\", 14)(9, \"th\", 15);\n    i0.ɵɵtext(10, \"Item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Cost\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Quantity\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, CarryBoxComponent_table_8_ng_container_15_Template, 3, 2, \"ng-container\", 16);\n    i0.ɵɵtemplate(16, CarryBoxComponent_table_8_tr_16_Template, 6, 1, \"tr\", 17);\n    i0.ɵɵtemplate(17, CarryBoxComponent_table_8_tr_17_Template, 4, 0, \"tr\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.carryBox.itemlist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.carryBox.itemlist.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.carryBox.itemlist.length == 0);\n  }\n}\n\nexport let CarryBoxComponent = /*#__PURE__*/(() => {\n  class CarryBoxComponent {\n    constructor(service, router, customer, logger) {\n      this.service = service;\n      this.router = router;\n      this.customer = customer;\n      this.logger = logger;\n      this.filterCarryBoxItems = new FilterCarryBoxItemsPipe();\n    }\n\n    ngOnInit() {\n      if (localStorage.email == \"\") {\n        this.router.navigate(['authenticate']);\n      } else {\n        this.getCarryBoxDetails();\n        this.customer.compressHeader();\n      }\n    } //Retrieving the carry box details from the backend\n\n\n    getCarryBoxDetails() {\n      this.service.getCarryBoxDetails(localStorage.email).subscribe(data => {\n        this.carryBox = data;\n        this.logger.logStatus(\"Retrieved Carry Box Details Successfully !!\");\n      }, err => {\n        this.logger.logStatus(\"Error in Retrieving Carry Box Details !!\");\n      });\n    } // To decrease the quantity of an item in the carry box\n\n\n    decreaseQuantity(itemId) {\n      this.temp = this.filterCarryBoxItems.transform(this.carryBox.itemlist, itemId); // If the quantity is 1, then removing that item from the carrybox\n\n      if (this.temp > 1) {\n        this.service.updateItemInCarryBox(localStorage.email, itemId, this.temp - 1).subscribe(data => {\n          if (data) {\n            this.logger.logStatus(\"Item \" + itemId + \" is updated Successfully !!\");\n            this.getCarryBoxDetails();\n          }\n        }, err => {\n          this.logger.logStatus(\"Error in updating Item \" + itemId + \" !!\");\n        });\n      } // If the quantity is 1, then removing that item from the carrybox\n      else {\n        this.removeCarryBoxItem(itemId);\n      }\n    } // To increase the quantity of an item in the carry box\n\n\n    increaseQuantity(itemId) {\n      this.temp = this.filterCarryBoxItems.transform(this.carryBox.itemlist, itemId);\n      this.service.updateItemInCarryBox(localStorage.email, itemId, this.temp + 1).subscribe(data => {\n        if (data) {\n          this.logger.logStatus(\"Item \" + itemId + \" is updated Successfully !!\");\n          this.getCarryBoxDetails();\n        }\n      }, err => {\n        this.logger.logStatus(\"Error in updating Item \" + itemId + \" !!\");\n      });\n    } // To remove an item from the carrybox when not needed\n\n\n    removeCarryBoxItem(itemId) {\n      this.service.deleteACarryBoxItem(localStorage.email, itemId).subscribe(data => {\n        if (data) {\n          this.getCarryBoxDetails();\n          this.logger.logStatus(\"Item \" + itemId + \" is removed Successfully !!\");\n        }\n      });\n    } // To clear the entire carrybox\n\n\n    clearTheCarryBox() {\n      if (confirm(\"Are you sure want to delete all the items in the Carry Box?\")) {\n        this.service.clearTheCarryBox(localStorage.email).subscribe(data => {\n          if (data) {\n            this.getCarryBoxDetails();\n            this.logger.logStatus(\"Carry Box is cleared Successfully !!\");\n          }\n        });\n      } else return;\n    } // To navigate to place-order page when buying option is chosen by the user \n\n\n    placeOrder() {\n      this.router.navigate([\"customer/placeOrder\"]);\n      this.logger.logStatus(\"Navigating to Place Order Page !!\");\n    } // To navigate to items page to add new items \n\n\n    goToItems() {\n      this.router.navigate(['customer/items/category/Starters']);\n      this.logger.logStatus(\"Navigating to Items Page !!\");\n    } // To navigate to Home page  \n\n\n    goToHome() {\n      this.router.navigate(['customer']);\n      this.logger.logStatus(\"Navigating to Home Page !!\");\n    }\n\n  }\n\n  CarryBoxComponent.ɵfac = function CarryBoxComponent_Factory(t) {\n    return new (t || CarryBoxComponent)(i0.ɵɵdirectiveInject(i1.CustomerServiceService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CustomerComponent), i0.ɵɵdirectiveInject(i4.LoggingService));\n  };\n\n  CarryBoxComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CarryBoxComponent,\n    selectors: [[\"app-carry-box\"]],\n    decls: 12,\n    vars: 1,\n    consts: [[\"href\", \"https://fonts.googleapis.com/css?family=Julius Sans One\", \"rel\", \"stylesheet\"], [\"href\", \"https://fonts.googleapis.com/css?family=Marcellus\", \"rel\", \"stylesheet\"], [1, \"content\"], [1, \"homeBtn\"], [1, \"btn\", \"btn-outline-dark\", 3, \"click\"], [1, \"body\"], [1, \"data\"], [\"class\", \"table table-hover table-responsive\", \"style\", \"text-align: center;\", 4, \"ngIf\"], [1, \"text-center\"], [1, \"table\", \"table-hover\", \"table-responsive\", 2, \"text-align\", \"center\"], [\"colspan\", \"2\", 2, \"text-align\", \"left\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [\"colspan\", \"2\", 2, \"text-align\", \"right\"], [1, \"btn\", \"btn-success\", 2, \"font-size\", \"20px\", 3, \"click\"], [2, \"background-image\", \"linear-gradient(to right, lightgrey, whitesmoke)\"], [\"colspan\", \"2\"], [4, \"ngFor\", \"ngForOf\"], [\"style\", \"border-top: 2px solid #29150e;border-bottom: 2px solid #29150e;\", 4, \"ngIf\"], [4, \"ngIf\"], [\"style\", \"box-shadow: inset 0 0 0 2px red;\", 4, \"ngIf\"], [3, \"src\"], [1, \"name\"], [1, \"price\"], [1, \"editColumn\"], [1, \"edit\", 3, \"click\"], [1, \"quantity\"], [2, \"box-shadow\", \"inset 0 0 0 2px red\"], [2, \"opacity\", \"0.7\", \"pointer-events\", \"none\"], [1, \"name\", 2, \"opacity\", \"0.7\", \"pointer-events\", \"none\"], [1, \"price\", 2, \"opacity\", \"0.7\", \"pointer-events\", \"none\"], [1, \"btn\", \"btn-dark\", 3, \"click\"], [1, \"text-danger\", 2, \"padding\", \"5px\"], [2, \"border-top\", \"2px solid #29150e\", \"border-bottom\", \"2px solid #29150e\"], [\"colspan\", \"2\", 1, \"total\"], [\"colspan\", \"4\", 1, \"text-danger\", \"text-center\"]],\n    template: function CarryBoxComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"link\", 0)(1, \"link\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function CarryBoxComponent_Template_button_click_4_listener() {\n          return ctx.goToHome();\n        });\n        i0.ɵɵtext(5, \"Back to home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6);\n        i0.ɵɵtemplate(8, CarryBoxComponent_table_8_Template, 18, 3, \"table\", 7);\n        i0.ɵɵelementStart(9, \"div\", 8)(10, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function CarryBoxComponent_Template_button_click_10_listener() {\n          return ctx.goToItems();\n        });\n        i0.ɵɵtext(11, \"+ Add Items\");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.carryBox);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i6.FilterCarryBoxItemsPipe],\n    styles: [\".content[_ngcontent-%COMP%]{width:100%;min-height:90vh;background-color:#fff;position:relative}.data[_ngcontent-%COMP%]{padding-top:50px;transform:scale(.9)}.body[_ngcontent-%COMP%]{width:100%;height:85vh;display:flex;justify-content:center}th[_ngcontent-%COMP%]{font-size:25px;font-weight:bolder;font-family:Julius Sans One;text-shadow:1px 0 1px rgba(45,21,14,.75)}img[_ngcontent-%COMP%]{width:100px;height:auto}td[_ngcontent-%COMP%]{vertical-align:middle}.name[_ngcontent-%COMP%]{font-size:25px;font-family:ubuntu;color:#29150e}.price[_ngcontent-%COMP%]{font-size:20px;font-family:ubuntu;color:#29150e}.editColumn[_ngcontent-%COMP%]{width:200px;font-size:18px;display:flex;justify-content:space-around;align-items:center}.editColumn[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{font-size:35px;cursor:pointer}.editColumn[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]:hover{font-weight:700}.editColumn[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:100px;text-align:center;border-bottom:1px solid #29150e;font-weight:700;cursor:default}.total[_ngcontent-%COMP%]{font-size:25px;font-family:Julius Sans One;font-weight:bolder;color:#29150e}.total[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-family:Marcellus}.homeBtn[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}@media (max-width:600px){.header[_ngcontent-%COMP%]{height:10vh}.data[_ngcontent-%COMP%]{transform:scale(.95)}.body[_ngcontent-%COMP%]{height:90vh;width:99.5%}th[_ngcontent-%COMP%]{font-size:18px}img[_ngcontent-%COMP%]{width:60px;height:auto}.name[_ngcontent-%COMP%]{font-size:18px}.price[_ngcontent-%COMP%]{font-size:16px}.editColumn[_ngcontent-%COMP%]{font-size:18px;width:75px}.editColumn[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{font-size:25px}.editColumn[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:25px}.total[_ngcontent-%COMP%]{font-size:18px}}\"]\n  });\n  return CarryBoxComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}