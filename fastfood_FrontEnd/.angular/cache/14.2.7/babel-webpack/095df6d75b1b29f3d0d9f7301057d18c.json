{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../Services/authenticate-service/user-service.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction LoginComponent_div_19_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"font\", 18);\n    i0.ɵɵtext(2, \"Email Id is required ..\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction LoginComponent_div_19_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"font\", 18);\n    i0.ɵɵtext(2, \"Email Id must follow the required pattern!!\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction LoginComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, LoginComponent_div_19_div_1_Template, 3, 0, \"div\", 25);\n    i0.ɵɵtemplate(2, LoginComponent_div_19_div_2_Template, 3, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.loginForm.controls.emailId.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.loginForm.controls.emailId.errors.email);\n  }\n}\n\nfunction LoginComponent_div_27_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"font\", 18);\n    i0.ɵɵtext(2, \"Password is required ..\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction LoginComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, LoginComponent_div_27_div_1_Template, 3, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.loginForm.controls.password.errors.required);\n  }\n}\n\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(formBuilder, router, userService) {\n      this.formBuilder = formBuilder;\n      this.router = router;\n      this.userService = userService;\n      this.submitted = false;\n      this.invalidLogin = false;\n      this.user = {\n        emailId: undefined,\n        password: undefined\n      };\n    }\n\n    ngOnInit() {\n      if (localStorage.email || localStorage.emailId || localStorage.password) {\n        localStorage.removeItem(\"email\");\n        localStorage.removeItem(\"emailId\");\n        localStorage.removeItem(\"password\");\n      }\n\n      this.loginForm = this.formBuilder.group({\n        emailId: ['', [Validators.required, Validators.email]],\n        password: ['', Validators.required]\n      });\n    }\n    /*\n    This method is called when the user submits the form by pressing on login button and it\n    sends request to the service method where the request is sent and the response is received from the server.\n    */\n\n\n    verifyLogin() {\n      this.submitted = true;\n\n      if (this.loginForm.invalid) {\n        return;\n      }\n\n      let email = this.loginForm.controls.emailId.value;\n      let password = this.loginForm.controls.password.value;\n      this.user.emailId = email;\n      this.user.password = password;\n      this.userService.userLogin(this.user).subscribe(data => {\n        this.msg = data;\n        localStorage.email = email; // localStorage.password=password;\n\n        if (this.msg == \"Admin\") {\n          this.router.navigate(['/admin']);\n        } else if (this.msg == \"Customer\") {\n          this.router.navigate(['/customer']);\n        }\n      }, err => {\n        this.errormsg = err.error;\n        this.invalidLogin = true;\n        alert(this.errormsg);\n      });\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserServiceService));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 53,\n    vars: 3,\n    consts: [[1, \"body\", 2, \"transform\", \"scale(0.75)\"], [1, \"right\"], [\"src\", \"assets/Images/restaurant.jpg\", \"width\", \"100%\", \"height\", \"1125px\"], [1, \"left\", 2, \"background\", \"linear-gradient(to bottom, #0099cc 0%, #000066 100%)\", \"height\", \"1125px\"], [1, \"card\", 2, \"margin-top\", \"18%\", \"width\", \"80rem\", \"margin-left\", \"15%\", 3, \"formGroup\", \"ngSubmit\"], [1, \"text-dark\"], [\"src\", \"\\\\assets\\\\Images\\\\images.jpg\", \"width\", \"30%\", 2, \"margin-left\", \"18%\", \"margin-top\", \"2%\"], [1, \"form-group\"], [1, \"row\"], [1, \"offset-lg-2\", \"col-lg-2\", \"offset-md-2\", \"col-md-2\", \"offset-sm-2\", \"col-sm-2\"], [1, \"glyphicon\", \"glyphicon-user\"], [1, \"col-lg-5\", \"col-md-5\", \"col-sm-5\"], [\"type\", \"email\", \"formControlName\", \"emailId\", \"placeholder\", \"ex:abc@gmail.com\", 1, \"form-control\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"glyphicon\", \"glyphicon-lock\"], [\"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\"], [1, \"offset-lg-4\", \"col-lg-6\", \"offset-md-4\", \"col-md-6\", \"offset-sm-4\", \"col-sm-6\"], [1, \"btn\", \"btn-success\", 2, \"border-radius\", \"30%\"], [\"size\", \"5\"], [\"type\", \"reset\", 1, \"btn\", \"btn-danger\", 2, \"border-radius\", \"30%\"], [\"size\", \"4\", \"color\", \"blue\", \"size\", \"5\"], [\"routerLink\", \"/authenticate/reset-password\"], [\"size\", \"5\", \"color\", \"black\"], [\"routerLink\", \"/authenticate/sign-up\"], [1, \"error\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-danger\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.verifyLogin();\n        });\n        i0.ɵɵelementStart(5, \"h1\", 5);\n        i0.ɵɵelement(6, \"img\", 6);\n        i0.ɵɵelementStart(7, \"b\");\n        i0.ɵɵtext(8, \"Login\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(9, \"br\")(10, \"br\");\n        i0.ɵɵelementStart(11, \"div\", 7)(12, \"div\", 8)(13, \"div\", 9);\n        i0.ɵɵelement(14, \"br\")(15, \"i\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 11);\n        i0.ɵɵelement(17, \"br\")(18, \"input\", 12);\n        i0.ɵɵtemplate(19, LoginComponent_div_19_Template, 3, 2, \"div\", 13);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(20, \"br\");\n        i0.ɵɵelementStart(21, \"div\", 7)(22, \"div\", 8)(23, \"div\", 9);\n        i0.ɵɵelement(24, \"i\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 11);\n        i0.ɵɵelement(26, \"input\", 15);\n        i0.ɵɵtemplate(27, LoginComponent_div_27_Template, 2, 1, \"div\", 13);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(28, \"br\")(29, \"br\");\n        i0.ɵɵelementStart(30, \"div\", 16)(31, \"button\", 17)(32, \"font\", 18);\n        i0.ɵɵtext(33, \"Login\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(34, \" \\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0 \");\n        i0.ɵɵelementStart(35, \"button\", 19)(36, \"font\", 18);\n        i0.ɵɵtext(37, \"Cancel\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(38, \"br\")(39, \"br\");\n        i0.ɵɵelementStart(40, \"font\", 20);\n        i0.ɵɵtext(41, \"Forgot Password?\\u00A0 \");\n        i0.ɵɵelementStart(42, \"a\", 21)(43, \"font\", 22);\n        i0.ɵɵtext(44, \"Reset Now\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(45, \"br\")(46, \"br\");\n        i0.ɵɵelementStart(47, \"font\", 20);\n        i0.ɵɵtext(48, \"Not a User?\\u00A0 \");\n        i0.ɵɵelementStart(49, \"a\", 23)(50, \"font\", 22);\n        i0.ɵɵtext(51, \"Sign Up\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(52, \"br\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.loginForm.controls.emailId.errors);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.loginForm.controls.password.errors);\n      }\n    },\n    dependencies: [i4.NgIf, i2.RouterLinkWithHref, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\".glyphicon[_ngcontent-%COMP%]{font-size:40px}.left[_ngcontent-%COMP%]{float:left;height:80%;width:50%}.right[_ngcontent-%COMP%]{float:right;height:80%;width:50%}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}