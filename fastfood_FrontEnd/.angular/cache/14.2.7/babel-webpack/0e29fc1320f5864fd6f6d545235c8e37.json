{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../Services/customer-service/customer-service.service\";\nimport * as i2 from \"../customer.component\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../../Models/LoggingService\";\nimport * as i5 from \"@angular/common\";\n\nfunction TrackOrderComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"h3\");\n    i0.ɵɵtext(2, \"Order Id : \");\n    i0.ɵɵelementStart(3, \"b\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.orderId);\n  }\n}\n\nfunction TrackOrderComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelement(1, \"img\", 12);\n    i0.ɵɵelementStart(2, \"h3\", 13);\n    i0.ɵɵtext(3, \"Order is Rejected\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h6\", 14);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.rejectionMsg);\n  }\n}\n\nfunction TrackOrderComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16)(2, \"ul\")(3, \"li\", 17);\n    i0.ɵɵtext(4, \"Order\");\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵtext(6, \"Placed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"li\", 18);\n    i0.ɵɵtext(8, \"Order\");\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵtext(10, \"Accepted\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"li\", 19);\n    i0.ɵɵtext(12, \"Cooking,\");\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵtext(14, \"On the Way\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"li\", 20);\n    i0.ɵɵtext(16, \"Delivered\");\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵtext(18, \"\\u00A0\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\n\nfunction TrackOrderComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\")(2, \"b\")(3, \"u\");\n    i0.ɵɵtext(4, \"Ordered From \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \":\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"b\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\")(10, \"br\");\n    i0.ɵɵelementStart(11, \"b\")(12, \"u\");\n    i0.ɵɵtext(13, \"Order Placed \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \":\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementStart(16, \"b\");\n    i0.ɵɵtext(17, \"On - \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18);\n    i0.ɵɵelement(19, \"br\");\n    i0.ɵɵelementStart(20, \"b\");\n    i0.ɵɵtext(21, \"At - \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\")(24, \"b\")(25, \"u\");\n    i0.ɵɵtext(26, \"Billing Address \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \":\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"br\");\n    i0.ɵɵtext(29);\n    i0.ɵɵelement(30, \"br\");\n    i0.ɵɵtext(31);\n    i0.ɵɵelement(32, \"br\");\n    i0.ɵɵtext(33);\n    i0.ɵɵelement(34, \"br\");\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r3.order[0].branch_order.branchCity, \"(\", ctx_r3.order[0].branch_order.branchRegion, \") Branch\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r3.order[0].orderDate);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.order[0].orderTime, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.order[0].address.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.order[0].address.line1, \",\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.order[0].address.line2, \",\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.order[0].address.city, \". \");\n  }\n}\n\nfunction TrackOrderComponent_table_13_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 29);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 30);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 30);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const obj_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"assets/Images/\", obj_r8.item.picture, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obj_r8.item.itemName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", obj_r8.item.itemPrice, \"/-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obj_r8.quantity);\n  }\n}\n\nfunction TrackOrderComponent_table_13_tr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 31);\n    i0.ɵɵelement(1, \"td\", 32);\n    i0.ɵɵelementStart(2, \"td\", 33);\n    i0.ɵɵtext(3, \"Total = \");\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Rs. \", ctx_r6.order[0].orderPrice, \"/-\");\n  }\n}\n\nfunction TrackOrderComponent_table_13_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 34)(2, \"h5\");\n    i0.ɵɵtext(3, \"No Items in your Carry Box !!\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction TrackOrderComponent_table_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 22)(1, \"tr\", 23)(2, \"th\", 24);\n    i0.ɵɵtext(3, \"Item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5, \"Cost\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Quantity\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, TrackOrderComponent_table_13_tr_8_Template, 9, 4, \"tr\", 25);\n    i0.ɵɵtemplate(9, TrackOrderComponent_table_13_tr_9_Template, 6, 1, \"tr\", 26);\n    i0.ɵɵtemplate(10, TrackOrderComponent_table_13_tr_10_Template, 4, 0, \"tr\", 27);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.order);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.order.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.order.length == 0);\n  }\n}\n\nexport let TrackOrderComponent = /*#__PURE__*/(() => {\n  class TrackOrderComponent {\n    constructor(service, customer, route, router, logger) {\n      this.service = service;\n      this.customer = customer;\n      this.route = route;\n      this.router = router;\n      this.logger = logger;\n      this.orderRejected = false; // Retrieving the data in the routing url params\n\n      this.route.params.subscribe(params => {\n        this.orderId = params['orderId'];\n      });\n    }\n\n    ngOnInit() {\n      // If the user is not loggedin, navigating to Login page\n      if (localStorage.email == \"\") {\n        this.router.navigate(['authenticate']);\n      } else {\n        this.customer.compressHeader();\n        this.trackTheOrder();\n      }\n    } // Retrieving the order details from backend\n\n\n    trackTheOrder() {\n      this.logger.logStatus(\"Retrieving Order Details!!\");\n      this.service.trackAnOrder(this.orderId).subscribe(data => {\n        this.order = data;\n        this.logger.logStatus(\"Retrieved Order Details Successfully!!\"); //If the order is rejected, status description and separate way of page design will be shown\n\n        if (this.order[0].orderStatus == 'Rejected') {\n          this.orderRejected = true;\n\n          if (this.order[0].statusDescription != \"\") {\n            this.rejectionMsg = this.order[0].statusDescription;\n          } else this.rejectionMsg = \"Due to some issues!! Sorry for the Inconvenience!!\";\n        } //Setting the Step Progress bar with different types of order status\n\n\n        if (this.order[0].orderStatus == 'Placed') {\n          document.getElementById(\"step1\").className = \"active\";\n        } else if (this.order[0].orderStatus == 'Accepted') {\n          document.getElementById(\"step1\").className = \"active\";\n          document.getElementById(\"step2\").className = \"active\";\n          document.getElementById(\"step3\").className = \"semiActive\";\n        } else if (this.order[0].orderStatus == 'Delivered') {\n          document.getElementById(\"step1\").className = \"active\";\n          document.getElementById(\"step2\").className = \"active\";\n          document.getElementById(\"step3\").className = \"active\";\n          document.getElementById(\"step4\").className = \"active\";\n        }\n      }, err => {\n        this.logger.logStatus(\"Error in retrieving the order details from backend!!\");\n      });\n    } //To navigate to my orders page automatically after successful order\n\n\n    myOrders() {\n      this.router.navigate(['customer/myOrders']);\n    }\n\n  }\n\n  TrackOrderComponent.ɵfac = function TrackOrderComponent_Factory(t) {\n    return new (t || TrackOrderComponent)(i0.ɵɵdirectiveInject(i1.CustomerServiceService), i0.ɵɵdirectiveInject(i2.CustomerComponent), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.LoggingService));\n  };\n\n  TrackOrderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TrackOrderComponent,\n    selectors: [[\"app-track-order\"]],\n    decls: 14,\n    vars: 5,\n    consts: [[1, \"content\"], [1, \"headRow\"], [1, \"left\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"class\", \"right\", 4, \"ngIf\"], [1, \"data\"], [\"class\", \"left-top\", \"style\", \"flex-direction: column;\", 4, \"ngIf\"], [\"class\", \"left-top\", 4, \"ngIf\"], [\"class\", \"left-bottom\", 4, \"ngIf\"], [1, \"right\"], [\"class\", \"table table-hover table-responsive\", \"style\", \"text-align: center;\", 4, \"ngIf\"], [1, \"left-top\", 2, \"flex-direction\", \"column\"], [\"src\", \"assets/Images/wrongSymb.jpg\", 2, \"width\", \"10%\", \"height\", \"auto\", \"padding\", \"10px\"], [1, \"text-danger\"], [1, \"text-dark\"], [1, \"left-top\"], [1, \"step_progressbar\"], [\"id\", \"step1\"], [\"id\", \"step2\"], [\"id\", \"step3\"], [\"id\", \"step4\"], [1, \"left-bottom\"], [1, \"table\", \"table-hover\", \"table-responsive\", 2, \"text-align\", \"center\"], [2, \"background-image\", \"linear-gradient(to right, lightgrey, whitesmoke)\"], [\"colspan\", \"2\"], [4, \"ngFor\", \"ngForOf\"], [\"style\", \"border-top: 2px solid #29150e;border-bottom: 2px solid #29150e;\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"src\"], [1, \"name\"], [1, \"info\"], [2, \"border-top\", \"2px solid #29150e\", \"border-bottom\", \"2px solid #29150e\"], [\"colspan\", \"1\"], [\"colspan\", \"3\", 1, \"total\"], [\"colspan\", \"4\", 1, \"text-danger\", \"text-center\"]],\n    template: function TrackOrderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function TrackOrderComponent_Template_button_click_3_listener() {\n          return ctx.myOrders();\n        });\n        i0.ɵɵtext(4, \"Go Back\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(5, TrackOrderComponent_div_5_Template, 5, 1, \"div\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 2);\n        i0.ɵɵtemplate(8, TrackOrderComponent_div_8_Template, 6, 1, \"div\", 6);\n        i0.ɵɵtemplate(9, TrackOrderComponent_div_9_Template, 19, 0, \"div\", 7);\n        i0.ɵɵtemplate(10, TrackOrderComponent_div_10_Template, 36, 8, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 9)(12, \"div\");\n        i0.ɵɵtemplate(13, TrackOrderComponent_table_13_Template, 11, 3, \"table\", 10);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.orderId);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.orderRejected);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.orderRejected);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.order);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.order);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf],\n    styles: [\".content[_ngcontent-%COMP%]{width:100%;height:90vh;display:flex;justify-content:center;flex-wrap:wrap}.headRow[_ngcontent-%COMP%]{flex:100%;width:100%;margin-top:4vh;height:10vh;display:flex;align-items:center;border-bottom:2px solid #29150e}.headRow[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:25%;text-align:center}.headRow[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:75%;text-align:center}.headRow[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-right:20%}.data[_ngcontent-%COMP%]{flex:100%;display:flex}.data[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:60%;height:75vh;border-right:1px solid #29150e}.data[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:40%;height:75vh;width:100%;display:flex;justify-content:center;text-align:center;transform:scale(.8)}th[_ngcontent-%COMP%]{font-size:25px;font-weight:bolder;font-family:Julius Sans One;text-shadow:1px 0 1px rgba(45,21,14,.75)}img[_ngcontent-%COMP%]{width:100px;height:auto}td[_ngcontent-%COMP%]{vertical-align:middle}.name[_ngcontent-%COMP%]{font-size:25px;font-family:ubuntu;color:#29150e}.info[_ngcontent-%COMP%]{font-size:20px;font-family:ubuntu;color:#29150e}.total[_ngcontent-%COMP%]{font-size:25px;font-family:Julius Sans One;font-weight:bolder;color:#29150e;text-align:right}.total[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-family:Marcellus}.data[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .left-top[_ngcontent-%COMP%]{width:100%;height:40vh;display:flex;align-items:center;justify-content:center;border-bottom:1px solid #29150e}.data[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .left-bottom[_ngcontent-%COMP%]{width:100%;height:35vh;display:flex;align-items:center;font-family:Trebuchet MS;justify-content:space-around;flex-wrap:nowrap}.step_progressbar[_ngcontent-%COMP%]{display:block;width:90%;color:#29150e;font-family:Trebuchet MS}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block;list-style:none;align-items:center;justify-content:space-between;display:flex;counter-reset:step}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;position:relative;width:25%;text-align:center;margin:15px 0}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{display:block;width:50px;height:50px;border-radius:50%;line-height:50px;background-color:#d8d8d8;text-align:center;content:counter(step);counter-increment:step;margin:10px auto;position:relative;z-index:2;font-size:20px}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.semiActive[_ngcontent-%COMP%]{color:#29150e;font-weight:bolder}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:\\\"\\\";width:100%;height:3px;position:absolute;background-color:#d8d8d8;top:35px;left:-50%;z-index:1}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{content:none}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:after{background-color:#29150e}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before, .step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.semiActive[_ngcontent-%COMP%]:before{background-color:#29150e;color:#fff}@media (max-width:900px){.data[_ngcontent-%COMP%]{flex-wrap:wrap}.data[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .data[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:100%}.step_progressbar[_ngcontent-%COMP%]{width:115%}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{width:35px;height:35px;line-height:35px;font-size:20px}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{height:2px;top:25px}.step_progressbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px auto;font-size:16px}.headRow[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-right:10%}}@media (max-width:600px){.data[_ngcontent-%COMP%]{transform:scale(.95)}.step_progressbar[_ngcontent-%COMP%]{width:115%;margin-left:-15%}th[_ngcontent-%COMP%]{font-size:18px}img[_ngcontent-%COMP%]{width:60px;height:auto}.name[_ngcontent-%COMP%]{font-size:18px}.info[_ngcontent-%COMP%]{font-size:16px}.total[_ngcontent-%COMP%]{font-size:18px}.headRow[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-right:5%}}\"]\n  });\n  return TrackOrderComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}