{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../Services/admin-service/admin-service.service\";\nimport * as i2 from \"../../../Models/LoggingService\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../../Pipes/AdminPipes/search-items.pipe\";\n\nfunction ItemsAdminComponent_div_12_input_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"input\", 18, 19);\n    i0.ɵɵlistener(\"click\", function ItemsAdminComponent_div_12_input_15_Template_input_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.updateActiveStatus(item_r1.itemId));\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", item_r1.itemId, \"-active\");\n  }\n}\n\nfunction ItemsAdminComponent_div_12_input_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"input\", 20, 19);\n    i0.ɵɵlistener(\"click\", function ItemsAdminComponent_div_12_input_16_Template_input_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.updateActiveStatus(item_r1.itemId));\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", item_r1.itemId, \"-active\");\n  }\n}\n\nfunction ItemsAdminComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"div\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 10);\n    i0.ɵɵelement(5, \"img\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\")(7, \"span\", 12);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 13);\n    i0.ɵɵlistener(\"click\", function ItemsAdminComponent_div_12_Template_div_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.edit(item_r1.itemId));\n    });\n    i0.ɵɵelement(10, \"i\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 13);\n    i0.ɵɵlistener(\"click\", function ItemsAdminComponent_div_12_Template_div_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.delete(item_r1.itemId));\n    });\n    i0.ɵɵelement(12, \"i\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\")(14, \"div\");\n    i0.ɵɵtemplate(15, ItemsAdminComponent_div_12_input_15_Template, 2, 1, \"input\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, ItemsAdminComponent_div_12_input_16_Template, 2, 1, \"input\", 17);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.itemName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"assets/Images/\", item_r1.picture, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", item_r1.itemPrice, \"/-\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", item_r1.active);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r1.active);\n  }\n}\n\nexport let ItemsAdminComponent = /*#__PURE__*/(() => {\n  class ItemsAdminComponent {\n    //Injecting required services \n    constructor(adminService, logger, router) {\n      this.adminService = adminService;\n      this.logger = logger;\n      this.router = router;\n      this.searchtext = \"\";\n      this.child_records_found = false;\n    }\n\n    ngOnInit() {\n      //if local storage is null, navigate to home page \n      if (localStorage.email == null) {\n        this.router.navigate(['/customer']);\n      }\n\n      this.getItems();\n    } //Function to get all the items\n\n\n    getItems() {\n      this.adminService.getItems(localStorage.email).subscribe(data => {\n        this.logger.logStatus(\"Got all the items successfully\");\n        this.items = data;\n      });\n    } //passing item id using router params(Activated router) to edit a item\n\n\n    edit(itemId) {\n      this.logger.logStatus(\"navigated to edit item\");\n      this.router.navigate(['/admin/addItem', itemId]);\n    } //delete a item\n\n\n    delete(itemId) {\n      //calling a service to delete the item\n      this.adminService.deleteItem(itemId).subscribe(data => {\n        this.getItems();\n        this.logger.logStatus(\"Delete the item by item Id\");\n      }, //error handling messages which are thrown by spring boot\n      err => {\n        if (err.error.errorMessage == \"child records found\") {\n          this.child_records_found = true;\n        }\n      });\n    } //function to update active status of a item\n\n\n    updateActiveStatus(itemId) {\n      var values = document.getElementById(itemId.toString() + \"-active\").value; //calling service  to update active status\n\n      this.adminService.updateActiveStatus(itemId, values).subscribe(data => {\n        this.logger.logStatus(\"updated the active status of the item\");\n        this.getItems();\n      });\n    }\n\n  }\n\n  ItemsAdminComponent.ɵfac = function ItemsAdminComponent_Factory(t) {\n    return new (t || ItemsAdminComponent)(i0.ɵɵdirectiveInject(i1.AdminServiceService), i0.ɵɵdirectiveInject(i2.LoggingService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  ItemsAdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ItemsAdminComponent,\n    selectors: [[\"app-items-admin\"]],\n    decls: 14,\n    vars: 6,\n    consts: [[1, \"wrapper\"], [1, \"title\"], [1, \"heading\"], [1, \"search\"], [\"type\", \"text\", \"id\", \"search\", \"placeholder\", \"enter your search text\", 3, \"ngModel\", \"ngModelChange\"], [1, \"fa\", \"fa-search\", 2, \"color\", \"coral\", \"font-size\", \"larger\", \"position\", \"relative\", \"left\", \"-2rem\"], [1, \"content\"], [4, \"ngFor\", \"ngForOf\"], [1, \"child\"], [1, \"itemName\"], [1, \"circle\"], [3, \"src\"], [1, \"tag\"], [3, \"click\"], [1, \"fa\", \"fa-pencil\", \"edit\"], [1, \"fa\", \"fa-trash\", \"bin\"], [\"class\", \"activeStatus\", \"value\", \"active\", 3, \"id\", \"click\", 4, \"ngIf\"], [\"class\", \"activeStatus\", \"style\", \"background-color: #cd0a0a;\", \"value\", \"not-active\", 3, \"id\", \"click\", 4, \"ngIf\"], [\"value\", \"active\", 1, \"activeStatus\", 3, \"id\", \"click\"], [\"active\", \"\"], [\"value\", \"not-active\", 1, \"activeStatus\", 2, \"background-color\", \"#cd0a0a\", 3, \"id\", \"click\"]],\n    template: function ItemsAdminComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n        i0.ɵɵtext(3, \"ITEMS\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"span\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function ItemsAdminComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.searchtext = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\");\n        i0.ɵɵelement(8, \"i\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵelementStart(11, \"div\", 6);\n        i0.ɵɵtemplate(12, ItemsAdminComponent_div_12_Template, 17, 5, \"div\", 7);\n        i0.ɵɵpipe(13, \"searchItems\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchtext);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.searchText, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(13, 3, ctx.items, ctx.searchtext));\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.SearchItemsPipe],\n    styles: [\".wrapper[_ngcontent-%COMP%]{width:83vw;box-sizing:border-box;padding:1rem}.title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.heading[_ngcontent-%COMP%]{color:#ff971d;margin-left:2rem;margin-bottom:2rem;font-family:Julius Sans One;font-weight:bolder;text-shadow:red 1px 0 2px;text-decoration:underline;-webkit-text-decoration-color:crimson;text-decoration-color:#dc143c}.content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;box-sizing:border-box;justify-content:center}.content[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{width:237px;height:32rem;border:1px solid black;margin:1rem}.child[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:2px 2px 2px 1px coral}.itemName[_ngcontent-%COMP%]{position:relative;color:#fff;height:4rem;width:235px;background-color:#dc143c;text-align:center;word-break:normal;border-radius:.1rem;padding:1rem}.child[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:235px;height:240px;border-radius:0%}.child[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%], .bin[_ngcontent-%COMP%]{position:relative;top:-3.5rem;width:3rem;height:3rem;padding:.45rem;font-size:x-large;background-color:#29150e;color:#fff;border-radius:50%;margin:.4rem .4rem .4rem 1rem}.child[_ngcontent-%COMP%]   .bin[_ngcontent-%COMP%]{position:relative;top:-7.3rem;left:4rem}.child[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]:hover, .bin[_ngcontent-%COMP%]:hover{background-color:#fff;color:#29150e}.tag[_ngcontent-%COMP%]{display:inline-block;left:8.65rem;top:-3.5rem;width:auto;height:3.65rem;background-color:#fbd46df2;border-radius:2px 4px 4px 3px;border-left:1px solid rgba(251,212,109,.95);margin-left:7.7rem;position:relative;color:#dc143c;font-size:22px;font-weight:700;padding:0 10px;z-index:0}.tag[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;display:block;left:-19px;width:0;height:0;border-top:19px solid transparent;border-bottom:19px solid transparent;border-right:19px solid rgba(251,212,109,.95)}.tag[_ngcontent-%COMP%]:after{content:\\\"\\\";background-color:#dc143c;border-radius:50%;width:4px;height:4px;display:block;position:absolute;left:-9px;top:17px}.activeStatus[_ngcontent-%COMP%]{position:relative;top:-10.8rem;width:7rem;height:3rem;border:1px solid black;left:16rem;text-align:center;background-color:#335d2d;color:#fff;transition:1s ease all;z-index:0}.search[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}#search[_ngcontent-%COMP%]{padding:.3rem;text-align:center;border-radius:1rem;border:1.5px solid coral;width:270px}#search[_ngcontent-%COMP%]:focus{outline:none;box-shadow:2px 2px 1px 1px coral}\"]\n  });\n  return ItemsAdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}